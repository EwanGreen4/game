let mouse={buttons:[],lastPos:{x:0,y:0},newPos:{x:0,y:0},contains:function(e,o){return e.x>o.x&&e.y>o.y&&e.x<o.x+o.w&&e.y<o.y+o.h},compare:function(e,o){return e.x==o.x&&e.y==o.y},trackedEvents:["mousedown","mouseup","mousemove"],init:function(){this.trackedEvents.forEach((e=>document.getElementById("canvas").addEventListener(e,(function(e){var o=document.getElementById("canvas");newPos={x:e.x-o.offsetLeft,y:e.y-o.offsetTop};for(const o of buttons)contains(newPos,o)?(contains(lastPos,o)?compare(newPos,lastPos)||null!==o.elem.onmousemove&&o.elem.onmousemove():null!==o.elem.onmouseenter&&o.elem.onmouseenter(),"mousemove"!=e.type&&null!==o.elem["on"+e.type]&&o.elem["on"+e.type]()):contains(lastPos,o)&&null!==o.elem.onmouseleave&&o.elem.onmouseleave();lastPos={x:newPos.x,y:newPos.y}}),!1)))}};mouse.init();
