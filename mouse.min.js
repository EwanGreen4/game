let mouse={buttons:[],lastPos:{x:0,y:0},newPos:{x:0,y:0},contains:function(e,o){return e.x>o.x&&e.y>o.y&&e.x<o.x+o.w&&e.y<o.y+o.h},compare:function(e,o){return e.x==o.x&&e.y==o.y},trackedEvents:["mousedown","mouseup","mousemove"]};mouse.trackedEvents.forEach((e=>document.getElementById("canvas").addEventListener(e,(function(e){var o=document.getElementById("canvas");mouse.newPos={x:e.x-o.offsetLeft,y:e.y-o.offsetTop};for(const o of mouse.buttons)mouse.contains(mouse.newPos,o)?(mouse.contains(mouse.lastPos,o)?mouse.compare(mouse.newPos,mouse.lastPos)||null!==o.elem.onmousemove&&o.elem.onmousemove():null!==o.elem.onmouseenter&&o.elem.onmouseenter(),"mousemove"!=e.type&&null!==o.elem["on"+e.type]&&o.elem["on"+e.type]()):mouse.contains(mouse.lastPos,o)&&null!==o.elem.onmouseleave&&o.elem.onmouseleave();mouse.lastPos={x:mouse.newPos.x,y:mouse.newPos.y}}),!1)));
